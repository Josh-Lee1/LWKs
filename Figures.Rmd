---
title: "Figure Building"
output: html_notebook
---


```{r}
library(dplyr)
library(lubridate)
library(rnaturalearth)
library(sf)
library(ggplot2)


dat<- read.csv("LWKs-2019-12-19.csv")

data <- dat %>% 
  select("Data.Resource.Name", 
       "Locality", 
       "Latitude", 
       "Longitude",
       "IBRA.7.Regions",
       "Individual.count", 
       "Year", 
       "Month", 
       "Day", 
       "Event.Date...parsed"
       ) %>% 
  dplyr::filter(!is.na(Latitude)) %>% 
  mutate(Year<=2006) %>% 
  rename("New"='Year <= 2006') %>% 
  dplyr::filter(!is.na(New))

fence <- sf::st_read("data/DingoFenceGoodGoodSA.shp")

lwk_points <- st_as_sf(data, coords=c("Longitude", "Latitude"), crs=st_crs(fence))

sites <- read.csv("data/Sites.csv", header = TRUE)

site_points <- st_as_sf(sites, coords=c("Lon", "Lat"), crs=st_crs(fence))

Aus<- st_read("data/1259030001_ste11aaust_shape/STE11aAust.shp")

```

```{r}
aus <- ne_countries(country="Australia", returnclass="sf")

ne_states(country ="Australia", returnclass = "sf")


map <- ggplot()+
  geom_sf(data=aus)+
  geom_sf(data=fence, size = 0.1, colour = "Red")+
  geom_sf(data=lwk_points, size=1, aes(colour = data$New))+
  xlim(136, 145)+
  ylim(33, 26)+
  coord_sf() +
  theme_bw() +
  ggtitle("Letter-winged Kite Sightings")+ 
  theme(legend.title = element_blank()) +
  scale_fill_manual(values = c('Blue', 'Red'),
                    labels = c('Points', 'Fire'))

print(map)
```


```{r}
map <- ggplot()+
  geom_sf(data=Aus)+
  geom_sf(data=fence, size = 0.5, colour = "Red")+
  geom_sf(data=lwk_points, size=1, aes(colour = data$New))+
  geom_sf(data=site_points, size=2, colour = "Black")+
  xlim(137, 145)+
  ylim(32, 27)+
  coord_sf() +
  theme_bw() +
  ggtitle("Letter-winged Kite Sightings")+ 
  theme(legend.title = element_blank()) +
  scale_fill_manual(values = c('Blue', 'Red'),
                    labels = c('Points', 'Fire'))

print(map)
```




####copied from BigData Project
```{r}


auscrop <- st_crop(aus, xmin = 110, xmax = 155,
                        ymin = 45, ymax = 25)


ggplot()+
  geom_sf(data=aus, fill="orange")

Mapby3<- ggplot() + 
  geom_sf(data = aus) +
  geom_sf(data = fireshape, size = 0.1, color = "Red", fill = "Red") + 
  geom_sf(data=map2, size=0.5, colour = 'Blue')+
  ggtitle("Checklists inside Fire Boundary") + 
  coord_sf() +
  theme_bw() + 
  geom_sf(data = aus)

make_map <- ggplot()+
  geom_sf(data=aus)+
  geom_sf(data=fireshape, size = 0.1, colour = "Red", fill = "Red")+
  geom_sf(data=map2, size=0.5, colour = 'Blue')+
  xlim(110, 155)+
  ylim(45, 25)+
  coord_sf() +
  theme_bw() +
  ggtitle("Checklists inside Fire Boundary")+ 
  theme(legend.title = element_blank()) +
  scale_fill_manual(values = c('Blue', 'Red'),
                    labels = c('Points', 'Fire'))


print(make_map)

```
